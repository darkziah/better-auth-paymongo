{
  "version": 3,
  "sources": ["../src/client.ts", "../node_modules/better-auth/dist/client/broadcast-channel.mjs", "../node_modules/better-auth/dist/client/focus-manager.mjs", "../node_modules/better-auth/dist/client/online-manager.mjs", "../node_modules/better-auth/dist/client/query.mjs", "../node_modules/@better-auth/core/dist/env-DbssmzoK.mjs", "../node_modules/@better-auth/core/dist/utils-U2L7n92V.mjs", "../node_modules/@better-auth/core/dist/error-DP1xOn7P.mjs", "../node_modules/better-auth/dist/client/parser.mjs", "../node_modules/better-auth/dist/client/session-atom.mjs"],
  "sourcesContent": [
    "import type { BetterAuthClientPlugin } from \"better-auth/client\";\nimport type { BetterFetchOption, BetterFetch } from \"@better-fetch/fetch\";\nimport { atom } from \"nanostores\";\nimport { useAuthQuery } from \"better-auth/client\";\nimport type { paymongo } from \"./server\";\nimport type { SubscriptionData, BasePlanConfig, BaseAddonConfig } from \"./types\";\n\n// Config type for plans and addons\nexport interface PaymongoConfig {\n    plans: Record<string, BasePlanConfig>;\n    addons: Record<string, BaseAddonConfig>;\n}\n\nexport const paymongoClient = () => {\n    // Signal atoms for triggering refetches - created OUTSIDE getAtoms but inside the factory\n    // This ensures they persist across the lifetime of the client\n    const $configSignal = atom<boolean>(false);\n    const $subscriptionSignal = atom<boolean>(false);\n\n    return {\n        id: \"paymongo\",\n        $InferServerPlugin: {} as ReturnType<typeof paymongo>,\n\n        getAtoms: ($fetch: BetterFetch) => {\n            // Create reactive query atoms using better-auth's useAuthQuery\n            // These will automatically become useConfig() and useSubscription() hooks\n            const config = useAuthQuery<PaymongoConfig>(\n                $configSignal,\n                \"/paymongo/config\",\n                $fetch,\n                { method: \"GET\" }\n            );\n\n            const subscription = useAuthQuery<SubscriptionData | null>(\n                $subscriptionSignal,\n                \"/paymongo/get-subscription\",\n                $fetch,\n                { method: \"GET\" }\n            );\n\n            return {\n                // Signal atoms (prefixed with $) - used for triggering refetches\n                $configSignal,\n                $subscriptionSignal,\n                // Query atoms - these become useConfig() and useSubscription() hooks automatically\n                config,\n                subscription\n            };\n        },\n\n        getActions: ($fetch: <T>(url: string, options?: BetterFetchOption) => Promise<{ data: T | null; error: { message: string } | null }>) => ({\n            /**\n             * Create a PaymentIntent for subscribing to a plan\n             */\n            createPaymentIntent: async (options: { planId: string; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<{ clientKey: string; paymentIntentId: string }>(`/paymongo/create-payment-intent`, {\n                    method: \"POST\",\n                    body: options,\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Create a subscription (handles trial or paid subscriptions)\n             */\n            createSubscription: async (options: { planId: string; paymentIntentId?: string; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<SubscriptionData>(`/paymongo/create-subscription`, {\n                    method: \"POST\",\n                    body: options,\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Verify and sync subscription status\n             */\n            verifySubscription: async (options?: { organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                const query = options?.organizationId ? `?organizationId=${options.organizationId}` : \"\";\n                return $fetch<SubscriptionData | null>(`/paymongo/verify-subscription${query}`, {\n                    method: \"GET\",\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Cancel subscription (sets cancelAtPeriodEnd flag)\n             */\n            cancelSubscription: async (options?: { organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<SubscriptionData>(`/paymongo/cancel-subscription`, {\n                    method: \"POST\",\n                    body: options ?? {},\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Get the current plan ID for the active organization or user\n             */\n            getPlan: async (options?: { organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                const query = options?.organizationId ? `?organizationId=${options.organizationId}` : \"\";\n                const res = await $fetch<SubscriptionData | null>(`/paymongo/get-subscription${query}`, {\n                    method: \"GET\",\n                    ...fetchOptions\n                });\n                return {\n                    data: res.data?.planId ?? null,\n                    error: res.error\n                };\n            },\n\n            /**\n             * Get the full subscription data for the active organization or user\n             */\n            getSubscription: async (options?: { organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                const query = options?.organizationId ? `?organizationId=${options.organizationId}` : \"\";\n                return $fetch<SubscriptionData | null>(`/paymongo/get-subscription${query}`, {\n                    method: \"GET\",\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Check if the organization or user has an active subscription\n             */\n            hasActiveSubscription: async (options?: { organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                const query = options?.organizationId ? `?organizationId=${options.organizationId}` : \"\";\n                const res = await $fetch<SubscriptionData | null>(`/paymongo/get-subscription${query}`, {\n                    method: \"GET\",\n                    ...fetchOptions\n                });\n                const isActive = res.data?.status === \"active\" || res.data?.status === \"trialing\";\n                return {\n                    data: isActive,\n                    error: res.error\n                };\n            },\n\n            /**\n             * Convert a trial subscription to a paid subscription\n             */\n            convertTrial: async (options: { paymentIntentId: string; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<SubscriptionData>(`/paymongo/convert-trial`, {\n                    method: \"POST\",\n                    body: options,\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Update payment method for an active subscription\n             */\n            updatePayment: async (options: { paymentIntentId: string; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<SubscriptionData>(`/paymongo/update-payment`, {\n                    method: \"POST\",\n                    body: options,\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Switch to a different plan (handles proration for upgrades, scheduling for downgrades)\n             */\n            switchPlan: async (options: { newPlanId: string; paymentIntentId?: string; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<SubscriptionData | { requiresPayment: boolean; prorationAmount: number; currency: string }>(`/paymongo/switch-plan`, {\n                    method: \"POST\",\n                    body: options,\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Add an addon to the subscription\n             */\n            addAddon: async (options: { addonId: string; quantity?: number; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<SubscriptionData>(`/paymongo/add-addon`, {\n                    method: \"POST\",\n                    body: { quantity: 1, ...options },\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Check usage for a specific limit key\n             */\n            checkUsage: async (options: { limitKey: string; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                const params = new URLSearchParams({ limitKey: options.limitKey });\n                if (options.organizationId) params.set('organizationId', options.organizationId);\n                return $fetch<{ usage: number; limit: number; remaining: number; allowed: boolean }>(`/paymongo/check-usage?${params}`, {\n                    method: \"GET\",\n                    ...fetchOptions\n                });\n            },\n\n            /**\n             * Increment (or decrement with negative) usage for a limit key\n             */\n            incrementUsage: async (options: { limitKey: string; quantity?: number; organizationId?: string }, fetchOptions?: BetterFetchOption) => {\n                return $fetch<{ success: boolean; usage: number; limit: number }>(`/paymongo/increment-usage`, {\n                    method: \"POST\",\n                    body: { quantity: 1, ...options },\n                    ...fetchOptions\n                });\n            }\n        }),\n\n        // Path methods tell better-auth which HTTP method to use for each path\n        pathMethods: {\n            \"/paymongo/config\": \"GET\",\n            \"/paymongo/get-subscription\": \"GET\",\n            \"/paymongo/verify-subscription\": \"GET\",\n            \"/paymongo/check-usage\": \"GET\"\n        },\n\n        // Atom listeners trigger signal updates when matching API calls are made\n        atomListeners: [\n            {\n                matcher(path: string) {\n                    return path === \"/paymongo/config\";\n                },\n                signal: \"$configSignal\"\n            },\n            {\n                matcher(path: string) {\n                    return path.startsWith(\"/paymongo/\") &&\n                        (path.includes(\"subscription\") ||\n                            path.includes(\"switch-plan\") ||\n                            path.includes(\"convert-trial\") ||\n                            path.includes(\"cancel\") ||\n                            path.includes(\"add-addon\"));\n                },\n                signal: \"$subscriptionSignal\"\n            }\n        ]\n    } satisfies BetterAuthClientPlugin;\n};\n",
    "//#region src/client/broadcast-channel.ts\nconst kBroadcastChannel = Symbol.for(\"better-auth:broadcast-channel\");\nconst now = () => Math.floor(Date.now() / 1e3);\nvar WindowBroadcastChannel = class {\n\tlisteners = /* @__PURE__ */ new Set();\n\tname;\n\tconstructor(name = \"better-auth.message\") {\n\t\tthis.name = name;\n\t}\n\tsubscribe(listener) {\n\t\tthis.listeners.add(listener);\n\t\treturn () => {\n\t\t\tthis.listeners.delete(listener);\n\t\t};\n\t}\n\tpost(message) {\n\t\tif (typeof window === \"undefined\") return;\n\t\ttry {\n\t\t\tlocalStorage.setItem(this.name, JSON.stringify({\n\t\t\t\t...message,\n\t\t\t\ttimestamp: now()\n\t\t\t}));\n\t\t} catch {}\n\t}\n\tsetup() {\n\t\tif (typeof window === \"undefined\" || typeof window.addEventListener === \"undefined\") return () => {};\n\t\tconst handler = (event) => {\n\t\t\tif (event.key !== this.name) return;\n\t\t\tconst message = JSON.parse(event.newValue ?? \"{}\");\n\t\t\tif (message?.event !== \"session\" || !message?.data) return;\n\t\t\tthis.listeners.forEach((listener) => listener(message));\n\t\t};\n\t\twindow.addEventListener(\"storage\", handler);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"storage\", handler);\n\t\t};\n\t}\n};\nfunction getGlobalBroadcastChannel(name = \"better-auth.message\") {\n\tif (!globalThis[kBroadcastChannel]) globalThis[kBroadcastChannel] = new WindowBroadcastChannel(name);\n\treturn globalThis[kBroadcastChannel];\n}\n\n//#endregion\nexport { getGlobalBroadcastChannel, kBroadcastChannel };\n//# sourceMappingURL=broadcast-channel.mjs.map",
    "//#region src/client/focus-manager.ts\nconst kFocusManager = Symbol.for(\"better-auth:focus-manager\");\nvar WindowFocusManager = class {\n\tlisteners = /* @__PURE__ */ new Set();\n\tsubscribe(listener) {\n\t\tthis.listeners.add(listener);\n\t\treturn () => {\n\t\t\tthis.listeners.delete(listener);\n\t\t};\n\t}\n\tsetFocused(focused) {\n\t\tthis.listeners.forEach((listener) => listener(focused));\n\t}\n\tsetup() {\n\t\tif (typeof window === \"undefined\" || typeof document === \"undefined\" || typeof window.addEventListener === \"undefined\") return () => {};\n\t\tconst visibilityHandler = () => {\n\t\t\tif (document.visibilityState === \"visible\") this.setFocused(true);\n\t\t};\n\t\tdocument.addEventListener(\"visibilitychange\", visibilityHandler, false);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"visibilitychange\", visibilityHandler, false);\n\t\t};\n\t}\n};\nfunction getGlobalFocusManager() {\n\tif (!globalThis[kFocusManager]) globalThis[kFocusManager] = new WindowFocusManager();\n\treturn globalThis[kFocusManager];\n}\n\n//#endregion\nexport { getGlobalFocusManager, kFocusManager };\n//# sourceMappingURL=focus-manager.mjs.map",
    "//#region src/client/online-manager.ts\nconst kOnlineManager = Symbol.for(\"better-auth:online-manager\");\nvar WindowOnlineManager = class {\n\tlisteners = /* @__PURE__ */ new Set();\n\tisOnline = typeof navigator !== \"undefined\" ? navigator.onLine : true;\n\tsubscribe(listener) {\n\t\tthis.listeners.add(listener);\n\t\treturn () => {\n\t\t\tthis.listeners.delete(listener);\n\t\t};\n\t}\n\tsetOnline(online) {\n\t\tthis.isOnline = online;\n\t\tthis.listeners.forEach((listener) => listener(online));\n\t}\n\tsetup() {\n\t\tif (typeof window === \"undefined\" || typeof window.addEventListener === \"undefined\") return () => {};\n\t\tconst onOnline = () => this.setOnline(true);\n\t\tconst onOffline = () => this.setOnline(false);\n\t\twindow.addEventListener(\"online\", onOnline, false);\n\t\twindow.addEventListener(\"offline\", onOffline, false);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"online\", onOnline, false);\n\t\t\twindow.removeEventListener(\"offline\", onOffline, false);\n\t\t};\n\t}\n};\nfunction getGlobalOnlineManager() {\n\tif (!globalThis[kOnlineManager]) globalThis[kOnlineManager] = new WindowOnlineManager();\n\treturn globalThis[kOnlineManager];\n}\n\n//#endregion\nexport { getGlobalOnlineManager, kOnlineManager };\n//# sourceMappingURL=online-manager.mjs.map",
    "import { atom, onMount } from \"nanostores\";\n\n//#region src/client/query.ts\nconst isServer = () => typeof window === \"undefined\";\nconst useAuthQuery = (initializedAtom, path, $fetch, options) => {\n\tconst value = atom({\n\t\tdata: null,\n\t\terror: null,\n\t\tisPending: true,\n\t\tisRefetching: false,\n\t\trefetch: (queryParams) => fn(queryParams)\n\t});\n\tconst fn = async (queryParams) => {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst opts = typeof options === \"function\" ? options({\n\t\t\t\tdata: value.get().data,\n\t\t\t\terror: value.get().error,\n\t\t\t\tisPending: value.get().isPending\n\t\t\t}) : options;\n\t\t\t$fetch(path, {\n\t\t\t\t...opts,\n\t\t\t\tquery: {\n\t\t\t\t\t...opts?.query,\n\t\t\t\t\t...queryParams?.query\n\t\t\t\t},\n\t\t\t\tasync onSuccess(context) {\n\t\t\t\t\tvalue.set({\n\t\t\t\t\t\tdata: context.data,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t\tisPending: false,\n\t\t\t\t\t\tisRefetching: false,\n\t\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t\t});\n\t\t\t\t\tawait opts?.onSuccess?.(context);\n\t\t\t\t},\n\t\t\t\tasync onError(context) {\n\t\t\t\t\tconst { request } = context;\n\t\t\t\t\tconst retryAttempts = typeof request.retry === \"number\" ? request.retry : request.retry?.attempts;\n\t\t\t\t\tconst retryAttempt = request.retryAttempt || 0;\n\t\t\t\t\tif (retryAttempts && retryAttempt < retryAttempts) return;\n\t\t\t\t\tvalue.set({\n\t\t\t\t\t\terror: context.error,\n\t\t\t\t\t\tdata: null,\n\t\t\t\t\t\tisPending: false,\n\t\t\t\t\t\tisRefetching: false,\n\t\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t\t});\n\t\t\t\t\tawait opts?.onError?.(context);\n\t\t\t\t},\n\t\t\t\tasync onRequest(context) {\n\t\t\t\t\tconst currentValue = value.get();\n\t\t\t\t\tvalue.set({\n\t\t\t\t\t\tisPending: currentValue.data === null,\n\t\t\t\t\t\tdata: currentValue.data,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t\tisRefetching: true,\n\t\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t\t});\n\t\t\t\t\tawait opts?.onRequest?.(context);\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tvalue.set({\n\t\t\t\t\terror,\n\t\t\t\t\tdata: null,\n\t\t\t\t\tisPending: false,\n\t\t\t\t\tisRefetching: false,\n\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t});\n\t\t\t}).finally(() => {\n\t\t\t\tresolve(void 0);\n\t\t\t});\n\t\t});\n\t};\n\tinitializedAtom = Array.isArray(initializedAtom) ? initializedAtom : [initializedAtom];\n\tlet isMounted = false;\n\tfor (const initAtom of initializedAtom) initAtom.subscribe(async () => {\n\t\tif (isServer()) return;\n\t\tif (isMounted) await fn();\n\t\telse onMount(value, () => {\n\t\t\tconst timeoutId = setTimeout(async () => {\n\t\t\t\tif (!isMounted) {\n\t\t\t\t\tawait fn();\n\t\t\t\t\tisMounted = true;\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t\treturn () => {\n\t\t\t\tvalue.off();\n\t\t\t\tinitAtom.off();\n\t\t\t\tclearTimeout(timeoutId);\n\t\t\t};\n\t\t});\n\t});\n\treturn value;\n};\n\n//#endregion\nexport { useAuthQuery };\n//# sourceMappingURL=query.mjs.map",
    "//#region src/env/env-impl.ts\nconst _envShim = Object.create(null);\nconst _getEnv = (useShim) => globalThis.process?.env || globalThis.Deno?.env.toObject() || globalThis.__env__ || (useShim ? _envShim : globalThis);\nconst env = new Proxy(_envShim, {\n\tget(_, prop) {\n\t\treturn _getEnv()[prop] ?? _envShim[prop];\n\t},\n\thas(_, prop) {\n\t\treturn prop in _getEnv() || prop in _envShim;\n\t},\n\tset(_, prop, value) {\n\t\tconst env$1 = _getEnv(true);\n\t\tenv$1[prop] = value;\n\t\treturn true;\n\t},\n\tdeleteProperty(_, prop) {\n\t\tif (!prop) return false;\n\t\tconst env$1 = _getEnv(true);\n\t\tdelete env$1[prop];\n\t\treturn true;\n\t},\n\townKeys() {\n\t\tconst env$1 = _getEnv(true);\n\t\treturn Object.keys(env$1);\n\t}\n});\nfunction toBoolean(val) {\n\treturn val ? val !== \"false\" : false;\n}\nconst nodeENV = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV || \"\";\n/** Detect if `NODE_ENV` environment variable is `production` */\nconst isProduction = nodeENV === \"production\";\n/** Detect if `NODE_ENV` environment variable is `dev` or `development` */\nconst isDevelopment = () => nodeENV === \"dev\" || nodeENV === \"development\";\n/** Detect if `NODE_ENV` environment variable is `test` */\nconst isTest = () => nodeENV === \"test\" || toBoolean(env.TEST);\n/**\n* Get environment variable with fallback\n*/\nfunction getEnvVar(key, fallback) {\n\tif (typeof process !== \"undefined\" && process.env) return process.env[key] ?? fallback;\n\tif (typeof Deno !== \"undefined\") return Deno.env.get(key) ?? fallback;\n\tif (typeof Bun !== \"undefined\") return Bun.env[key] ?? fallback;\n\treturn fallback;\n}\n/**\n* Get boolean environment variable\n*/\nfunction getBooleanEnvVar(key, fallback = true) {\n\tconst value = getEnvVar(key);\n\tif (!value) return fallback;\n\treturn value !== \"0\" && value.toLowerCase() !== \"false\" && value !== \"\";\n}\n/**\n* Common environment variables used in Better Auth\n*/\nconst ENV = Object.freeze({\n\tget BETTER_AUTH_SECRET() {\n\t\treturn getEnvVar(\"BETTER_AUTH_SECRET\");\n\t},\n\tget AUTH_SECRET() {\n\t\treturn getEnvVar(\"AUTH_SECRET\");\n\t},\n\tget BETTER_AUTH_TELEMETRY() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY\");\n\t},\n\tget BETTER_AUTH_TELEMETRY_ID() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY_ID\");\n\t},\n\tget NODE_ENV() {\n\t\treturn getEnvVar(\"NODE_ENV\", \"development\");\n\t},\n\tget PACKAGE_VERSION() {\n\t\treturn getEnvVar(\"PACKAGE_VERSION\", \"0.0.0\");\n\t},\n\tget BETTER_AUTH_TELEMETRY_ENDPOINT() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY_ENDPOINT\", \"https://telemetry.better-auth.com/v1/track\");\n\t}\n});\n\n//#endregion\n//#region src/env/color-depth.ts\nconst COLORS_2 = 1;\nconst COLORS_16 = 4;\nconst COLORS_256 = 8;\nconst COLORS_16m = 24;\nconst TERM_ENVS = {\n\teterm: COLORS_16,\n\tcons25: COLORS_16,\n\tconsole: COLORS_16,\n\tcygwin: COLORS_16,\n\tdtterm: COLORS_16,\n\tgnome: COLORS_16,\n\thurd: COLORS_16,\n\tjfbterm: COLORS_16,\n\tkonsole: COLORS_16,\n\tkterm: COLORS_16,\n\tmlterm: COLORS_16,\n\tmosh: COLORS_16m,\n\tputty: COLORS_16,\n\tst: COLORS_16,\n\t\"rxvt-unicode-24bit\": COLORS_16m,\n\tterminator: COLORS_16m,\n\t\"xterm-kitty\": COLORS_16m\n};\nconst CI_ENVS_MAP = new Map(Object.entries({\n\tAPPVEYOR: COLORS_256,\n\tBUILDKITE: COLORS_256,\n\tCIRCLECI: COLORS_16m,\n\tDRONE: COLORS_256,\n\tGITEA_ACTIONS: COLORS_16m,\n\tGITHUB_ACTIONS: COLORS_16m,\n\tGITLAB_CI: COLORS_256,\n\tTRAVIS: COLORS_256\n}));\nconst TERM_ENVS_REG_EXP = [\n\t/ansi/,\n\t/color/,\n\t/linux/,\n\t/direct/,\n\t/^con[0-9]*x[0-9]/,\n\t/^rxvt/,\n\t/^screen/,\n\t/^xterm/,\n\t/^vt100/,\n\t/^vt220/\n];\nfunction getColorDepth() {\n\tif (getEnvVar(\"FORCE_COLOR\") !== void 0) switch (getEnvVar(\"FORCE_COLOR\")) {\n\t\tcase \"\":\n\t\tcase \"1\":\n\t\tcase \"true\": return COLORS_16;\n\t\tcase \"2\": return COLORS_256;\n\t\tcase \"3\": return COLORS_16m;\n\t\tdefault: return COLORS_2;\n\t}\n\tif (getEnvVar(\"NODE_DISABLE_COLORS\") !== void 0 && getEnvVar(\"NODE_DISABLE_COLORS\") !== \"\" || getEnvVar(\"NO_COLOR\") !== void 0 && getEnvVar(\"NO_COLOR\") !== \"\" || getEnvVar(\"TERM\") === \"dumb\") return COLORS_2;\n\tif (getEnvVar(\"TMUX\")) return COLORS_16m;\n\tif (\"TF_BUILD\" in env && \"AGENT_NAME\" in env) return COLORS_16;\n\tif (\"CI\" in env) {\n\t\tfor (const { 0: envName, 1: colors } of CI_ENVS_MAP) if (envName in env) return colors;\n\t\tif (getEnvVar(\"CI_NAME\") === \"codeship\") return COLORS_256;\n\t\treturn COLORS_2;\n\t}\n\tif (\"TEAMCITY_VERSION\" in env) return /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.exec(getEnvVar(\"TEAMCITY_VERSION\")) !== null ? COLORS_16 : COLORS_2;\n\tswitch (getEnvVar(\"TERM_PROGRAM\")) {\n\t\tcase \"iTerm.app\":\n\t\t\tif (!getEnvVar(\"TERM_PROGRAM_VERSION\") || /^[0-2]\\./.exec(getEnvVar(\"TERM_PROGRAM_VERSION\")) !== null) return COLORS_256;\n\t\t\treturn COLORS_16m;\n\t\tcase \"HyperTerm\":\n\t\tcase \"MacTerm\": return COLORS_16m;\n\t\tcase \"Apple_Terminal\": return COLORS_256;\n\t}\n\tif (getEnvVar(\"COLORTERM\") === \"truecolor\" || getEnvVar(\"COLORTERM\") === \"24bit\") return COLORS_16m;\n\tif (getEnvVar(\"TERM\")) {\n\t\tif (/truecolor/.exec(getEnvVar(\"TERM\")) !== null) return COLORS_16m;\n\t\tif (/^xterm-256/.exec(getEnvVar(\"TERM\")) !== null) return COLORS_256;\n\t\tconst termEnv = getEnvVar(\"TERM\").toLowerCase();\n\t\tif (TERM_ENVS[termEnv]) return TERM_ENVS[termEnv];\n\t\tif (TERM_ENVS_REG_EXP.some((term) => term.exec(termEnv) !== null)) return COLORS_16;\n\t}\n\tif (getEnvVar(\"COLORTERM\")) return COLORS_16;\n\treturn COLORS_2;\n}\n\n//#endregion\n//#region src/env/logger.ts\nconst TTY_COLORS = {\n\treset: \"\\x1B[0m\",\n\tbright: \"\\x1B[1m\",\n\tdim: \"\\x1B[2m\",\n\tundim: \"\\x1B[22m\",\n\tunderscore: \"\\x1B[4m\",\n\tblink: \"\\x1B[5m\",\n\treverse: \"\\x1B[7m\",\n\thidden: \"\\x1B[8m\",\n\tfg: {\n\t\tblack: \"\\x1B[30m\",\n\t\tred: \"\\x1B[31m\",\n\t\tgreen: \"\\x1B[32m\",\n\t\tyellow: \"\\x1B[33m\",\n\t\tblue: \"\\x1B[34m\",\n\t\tmagenta: \"\\x1B[35m\",\n\t\tcyan: \"\\x1B[36m\",\n\t\twhite: \"\\x1B[37m\"\n\t},\n\tbg: {\n\t\tblack: \"\\x1B[40m\",\n\t\tred: \"\\x1B[41m\",\n\t\tgreen: \"\\x1B[42m\",\n\t\tyellow: \"\\x1B[43m\",\n\t\tblue: \"\\x1B[44m\",\n\t\tmagenta: \"\\x1B[45m\",\n\t\tcyan: \"\\x1B[46m\",\n\t\twhite: \"\\x1B[47m\"\n\t}\n};\nconst levels = [\n\t\"debug\",\n\t\"info\",\n\t\"success\",\n\t\"warn\",\n\t\"error\"\n];\nfunction shouldPublishLog(currentLogLevel, logLevel) {\n\treturn levels.indexOf(logLevel) >= levels.indexOf(currentLogLevel);\n}\nconst levelColors = {\n\tinfo: TTY_COLORS.fg.blue,\n\tsuccess: TTY_COLORS.fg.green,\n\twarn: TTY_COLORS.fg.yellow,\n\terror: TTY_COLORS.fg.red,\n\tdebug: TTY_COLORS.fg.magenta\n};\nconst formatMessage = (level, message, colorsEnabled) => {\n\tconst timestamp = (/* @__PURE__ */ new Date()).toISOString();\n\tif (colorsEnabled) return `${TTY_COLORS.dim}${timestamp}${TTY_COLORS.reset} ${levelColors[level]}${level.toUpperCase()}${TTY_COLORS.reset} ${TTY_COLORS.bright}[Better Auth]:${TTY_COLORS.reset} ${message}`;\n\treturn `${timestamp} ${level.toUpperCase()} [Better Auth]: ${message}`;\n};\nconst createLogger = (options) => {\n\tconst enabled = options?.disabled !== true;\n\tconst logLevel = options?.level ?? \"error\";\n\tconst colorsEnabled = options?.disableColors !== void 0 ? !options.disableColors : getColorDepth() !== 1;\n\tconst LogFunc = (level, message, args = []) => {\n\t\tif (!enabled || !shouldPublishLog(logLevel, level)) return;\n\t\tconst formattedMessage = formatMessage(level, message, colorsEnabled);\n\t\tif (!options || typeof options.log !== \"function\") {\n\t\t\tif (level === \"error\") console.error(formattedMessage, ...args);\n\t\t\telse if (level === \"warn\") console.warn(formattedMessage, ...args);\n\t\t\telse console.log(formattedMessage, ...args);\n\t\t\treturn;\n\t\t}\n\t\toptions.log(level === \"success\" ? \"info\" : level, message, ...args);\n\t};\n\treturn {\n\t\t...Object.fromEntries(levels.map((level) => [level, (...[message, ...args]) => LogFunc(level, message, args)])),\n\t\tget level() {\n\t\t\treturn logLevel;\n\t\t}\n\t};\n};\nconst logger = createLogger();\n\n//#endregion\nexport { shouldPublishLog as a, env as c, isDevelopment as d, isProduction as f, logger as i, getBooleanEnvVar as l, nodeENV as m, createLogger as n, getColorDepth as o, isTest as p, levels as r, ENV as s, TTY_COLORS as t, getEnvVar as u };",
    "import { i as logger } from \"./env-DbssmzoK.mjs\";\nimport { createRandomStringGenerator } from \"@better-auth/utils/random\";\n\n//#region src/utils/deprecate.ts\n/**\n* Wraps a function to log a deprecation warning at once.\n*/\nfunction deprecate(fn, message, logger$1) {\n\tlet warned = false;\n\treturn function(...args) {\n\t\tif (!warned) {\n\t\t\t(logger$1?.warn ?? console.warn)(`[Deprecation] ${message}`);\n\t\t\twarned = true;\n\t\t}\n\t\treturn fn.apply(this, args);\n\t};\n}\n\n//#endregion\n//#region src/utils/error-codes.ts\nfunction defineErrorCodes(codes) {\n\treturn codes;\n}\n\n//#endregion\n//#region src/utils/id.ts\nconst generateId = (size) => {\n\treturn createRandomStringGenerator(\"a-z\", \"A-Z\", \"0-9\")(size || 32);\n};\n\n//#endregion\n//#region src/utils/json.ts\nfunction safeJSONParse(data) {\n\tfunction reviver(_, value) {\n\t\tif (typeof value === \"string\") {\n\t\t\tif (/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/.test(value)) {\n\t\t\t\tconst date = new Date(value);\n\t\t\t\tif (!isNaN(date.getTime())) return date;\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n\ttry {\n\t\tif (typeof data !== \"string\") return data;\n\t\treturn JSON.parse(data, reviver);\n\t} catch (e) {\n\t\tlogger.error(\"Error parsing JSON\", { error: e });\n\t\treturn null;\n\t}\n}\n\n//#endregion\n//#region src/utils/string.ts\nfunction capitalizeFirstLetter(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n//#endregion\nexport { deprecate as a, defineErrorCodes as i, safeJSONParse as n, generateId as r, capitalizeFirstLetter as t };",
    "import { i as defineErrorCodes } from \"./utils-U2L7n92V.mjs\";\n\n//#region src/error/codes.ts\nconst BASE_ERROR_CODES = defineErrorCodes({\n\tUSER_NOT_FOUND: \"User not found\",\n\tFAILED_TO_CREATE_USER: \"Failed to create user\",\n\tFAILED_TO_CREATE_SESSION: \"Failed to create session\",\n\tFAILED_TO_UPDATE_USER: \"Failed to update user\",\n\tFAILED_TO_GET_SESSION: \"Failed to get session\",\n\tINVALID_PASSWORD: \"Invalid password\",\n\tINVALID_EMAIL: \"Invalid email\",\n\tINVALID_EMAIL_OR_PASSWORD: \"Invalid email or password\",\n\tSOCIAL_ACCOUNT_ALREADY_LINKED: \"Social account already linked\",\n\tPROVIDER_NOT_FOUND: \"Provider not found\",\n\tINVALID_TOKEN: \"Invalid token\",\n\tID_TOKEN_NOT_SUPPORTED: \"id_token not supported\",\n\tFAILED_TO_GET_USER_INFO: \"Failed to get user info\",\n\tUSER_EMAIL_NOT_FOUND: \"User email not found\",\n\tEMAIL_NOT_VERIFIED: \"Email not verified\",\n\tPASSWORD_TOO_SHORT: \"Password too short\",\n\tPASSWORD_TOO_LONG: \"Password too long\",\n\tUSER_ALREADY_EXISTS: \"User already exists.\",\n\tUSER_ALREADY_EXISTS_USE_ANOTHER_EMAIL: \"User already exists. Use another email.\",\n\tEMAIL_CAN_NOT_BE_UPDATED: \"Email can not be updated\",\n\tCREDENTIAL_ACCOUNT_NOT_FOUND: \"Credential account not found\",\n\tSESSION_EXPIRED: \"Session expired. Re-authenticate to perform this action.\",\n\tFAILED_TO_UNLINK_LAST_ACCOUNT: \"You can't unlink your last account\",\n\tACCOUNT_NOT_FOUND: \"Account not found\",\n\tUSER_ALREADY_HAS_PASSWORD: \"User already has a password. Provide that to delete the account.\",\n\tCROSS_SITE_NAVIGATION_LOGIN_BLOCKED: \"Cross-site navigation login blocked. This request appears to be a CSRF attack.\",\n\tVERIFICATION_EMAIL_NOT_ENABLED: \"Verification email isn't enabled\",\n\tEMAIL_ALREADY_VERIFIED: \"Email is already verified\",\n\tEMAIL_MISMATCH: \"Email mismatch\",\n\tSESSION_NOT_FRESH: \"Session is not fresh\",\n\tLINKED_ACCOUNT_ALREADY_EXISTS: \"Linked account already exists\",\n\tINVALID_ORIGIN: \"Invalid origin\",\n\tINVALID_CALLBACK_URL: \"Invalid callbackURL\",\n\tINVALID_REDIRECT_URL: \"Invalid redirectURL\",\n\tINVALID_ERROR_CALLBACK_URL: \"Invalid errorCallbackURL\",\n\tINVALID_NEW_USER_CALLBACK_URL: \"Invalid newUserCallbackURL\",\n\tMISSING_OR_NULL_ORIGIN: \"Missing or null Origin\",\n\tCALLBACK_URL_REQUIRED: \"callbackURL is required\",\n\tFAILED_TO_CREATE_VERIFICATION: \"Unable to create verification\",\n\tFIELD_NOT_ALLOWED: \"Field not allowed to be set\",\n\tASYNC_VALIDATION_NOT_SUPPORTED: \"Async validation is not supported\",\n\tVALIDATION_ERROR: \"Validation Error\",\n\tMISSING_FIELD: \"Field is required\"\n});\n\n//#endregion\n//#region src/error/index.ts\nvar BetterAuthError = class extends Error {\n\tconstructor(message, cause) {\n\t\tsuper(message);\n\t\tthis.name = \"BetterAuthError\";\n\t\tthis.message = message;\n\t\tthis.cause = cause;\n\t\tthis.stack = \"\";\n\t}\n};\n\n//#endregion\nexport { BASE_ERROR_CODES as n, BetterAuthError as t };",
    "//#region src/client/parser.ts\nconst PROTO_POLLUTION_PATTERNS = {\n\tproto: /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/,\n\tconstructor: /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/,\n\tprotoShort: /\"__proto__\"\\s*:/,\n\tconstructorShort: /\"constructor\"\\s*:/\n};\nconst JSON_SIGNATURE = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nconst SPECIAL_VALUES = {\n\ttrue: true,\n\tfalse: false,\n\tnull: null,\n\tundefined: void 0,\n\tnan: NaN,\n\tinfinity: Number.POSITIVE_INFINITY,\n\t\"-infinity\": Number.NEGATIVE_INFINITY\n};\nconst ISO_DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d{1,7}))?(?:Z|([+-])(\\d{2}):(\\d{2}))$/;\nfunction isValidDate(date) {\n\treturn date instanceof Date && !isNaN(date.getTime());\n}\nfunction parseISODate(value) {\n\tconst match = ISO_DATE_REGEX.exec(value);\n\tif (!match) return null;\n\tconst [, year, month, day, hour, minute, second, ms, offsetSign, offsetHour, offsetMinute] = match;\n\tlet date = new Date(Date.UTC(parseInt(year, 10), parseInt(month, 10) - 1, parseInt(day, 10), parseInt(hour, 10), parseInt(minute, 10), parseInt(second, 10), ms ? parseInt(ms.padEnd(3, \"0\"), 10) : 0));\n\tif (offsetSign) {\n\t\tconst offset = (parseInt(offsetHour, 10) * 60 + parseInt(offsetMinute, 10)) * (offsetSign === \"+\" ? -1 : 1);\n\t\tdate.setUTCMinutes(date.getUTCMinutes() + offset);\n\t}\n\treturn isValidDate(date) ? date : null;\n}\nfunction betterJSONParse(value, options = {}) {\n\tconst { strict = false, warnings = false, reviver, parseDates = true } = options;\n\tif (typeof value !== \"string\") return value;\n\tconst trimmed = value.trim();\n\tif (trimmed.length > 0 && trimmed[0] === \"\\\"\" && trimmed.endsWith(\"\\\"\") && !trimmed.slice(1, -1).includes(\"\\\"\")) return trimmed.slice(1, -1);\n\tconst lowerValue = trimmed.toLowerCase();\n\tif (lowerValue.length <= 9 && lowerValue in SPECIAL_VALUES) return SPECIAL_VALUES[lowerValue];\n\tif (!JSON_SIGNATURE.test(trimmed)) {\n\t\tif (strict) throw new SyntaxError(\"[better-json] Invalid JSON\");\n\t\treturn value;\n\t}\n\tif (Object.entries(PROTO_POLLUTION_PATTERNS).some(([key, pattern]) => {\n\t\tconst matches = pattern.test(trimmed);\n\t\tif (matches && warnings) console.warn(`[better-json] Detected potential prototype pollution attempt using ${key} pattern`);\n\t\treturn matches;\n\t}) && strict) throw new Error(\"[better-json] Potential prototype pollution attempt detected\");\n\ttry {\n\t\tconst secureReviver = (key, value$1) => {\n\t\t\tif (key === \"__proto__\" || key === \"constructor\" && value$1 && typeof value$1 === \"object\" && \"prototype\" in value$1) {\n\t\t\t\tif (warnings) console.warn(`[better-json] Dropping \"${key}\" key to prevent prototype pollution`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (parseDates && typeof value$1 === \"string\") {\n\t\t\t\tconst date = parseISODate(value$1);\n\t\t\t\tif (date) return date;\n\t\t\t}\n\t\t\treturn reviver ? reviver(key, value$1) : value$1;\n\t\t};\n\t\treturn JSON.parse(trimmed, secureReviver);\n\t} catch (error) {\n\t\tif (strict) throw error;\n\t\treturn value;\n\t}\n}\nfunction parseJSON(value, options = { strict: true }) {\n\treturn betterJSONParse(value, options);\n}\n\n//#endregion\nexport { parseJSON };\n//# sourceMappingURL=parser.mjs.map",
    "import { useAuthQuery } from \"./query.mjs\";\nimport { createSessionRefreshManager } from \"./session-refresh.mjs\";\nimport { atom, onMount } from \"nanostores\";\n\n//#region src/client/session-atom.ts\nfunction getSessionAtom($fetch, options) {\n\tconst $signal = atom(false);\n\tconst session = useAuthQuery($signal, \"/get-session\", $fetch, { method: \"GET\" });\n\tonMount(session, () => {\n\t\tconst refreshManager = createSessionRefreshManager({\n\t\t\tsessionAtom: session,\n\t\t\tsessionSignal: $signal,\n\t\t\t$fetch,\n\t\t\toptions\n\t\t});\n\t\trefreshManager.init();\n\t\treturn () => {\n\t\t\trefreshManager.cleanup();\n\t\t};\n\t});\n\treturn {\n\t\tsession,\n\t\t$sessionSignal: $signal\n\t};\n}\n\n//#endregion\nexport { getSessionAtom };\n//# sourceMappingURL=session-atom.mjs.map"
  ],
  "mappings": "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",
  "debugId": "15551F559757304664756E2164756E21",
  "names": []
}